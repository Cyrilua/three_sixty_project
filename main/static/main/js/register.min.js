var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};
$(function(){var a=$("body"),c=$('input[name="csrfmiddlewaretoken"]').val(),b=$("#id_username"),g=$("#id_password1"),h=$("#id_password2"),f=$("#id_email"),d=$("#id_name"),l=$("#id_surname"),u=$("#id_patronymic"),n=$("#id_birthday"),q=$("#code"),k={username:!1,password1:!1,password2:!1,email:!1,name:!1,surname:!1,patronymic:!1,birthday:!1,code:!1},m={username:!1,password1:!1,password2:!1,email:!1,name:!1,surname:!1,patronymic:!1,birthday:!1,code:!1};b.val("");g.val("");h.val("");h.prop({disabled:!0});
f.val("");d.val("");l.val("");u.val("");n.val("");checkBtnNext(k);checkBtnRegister(k);q.val("");"date"!==n.prop("type")&&n.datepicker({onSelect:function(e,r,p){$.ajax({url:"",type:"post",data:{id:n[0].id,birthday:e,csrfmiddlewaretoken:c},success:function(t){chooseValidationColor($("#id_birthday")[0],t.resultStatus);"success"===t.resultStatus?(k.birthday=!0,m.birthday=!1,removeErrors(n,300)):"error"===t.resultStatus&&(k.birthday=!1,m.birthday=!0,showErrors(a,n,t.resultError,300));checkBtnRegister(k);
checkBtnNext(k)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");
}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");}})},dateFormat:"d.m.yyyy",position:"top left"});a.on("click","#next-2",function(e){e.preventDefault();$(".step-1").addClass("hide");$(".step-2").removeClass("hide")});a.on("click","#back-1",function(e){e.preventDefault();$(".step-2").addClass("hide");$(".step-1").removeClass("hide")});a.on("click","#next-3",function(e){e.preventDefault();e=$(this).attr("data-part-url");
$.ajax({url:"register/"+e,type:"post",data:{surname:l.val(),name:d.val(),email:f.val(),csrfmiddlewaretoken:c},beforeSend:function(){$(".step-2").addClass("hide");$(".step-3").removeClass("hide")},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");
},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");}})});a.on("click","#back-2",function(e){e.preventDefault();$(".step-3").addClass("hide");$(".step-2").removeClass("hide")});a.on("focus",".input-field",function(){for(var e in m){var r=
$(this)[0].name;if(e===r)if(m[e])$(this).parent().children(".popup").css({display:"block",opacity:0}).stop().animate({opacity:1},300);else break}});a.on("focusout",".input-field",function(){$(this).parent().children(".popup").stop().animate({opacity:0},300,function(){$(this).css({display:"none"})})});a.on("input","#id_username",function(){var e=$(this);ajaxForUsername(e,c,k,m,a,300)});a.on("input","#id_password1",function(){var e=$(this);ajaxForPassword1(e,c,k,m,a,300)});a.on("input","#id_password2",
function(){var e=$(this);ajaxForPassword2(e,c,k,m,a,300)});a.on("input","#id_email",function(){var e=$(this);ajaxForEmail(e,c,k,m,a,300)});a.on("input","#id_name",function(){var e=$(this);ajaxForName(e,c,k,m,a,300)});a.on("input","#id_surname",function(){var e=$(this);ajaxForSurname(e,c,k,m,a,300)});a.on("input","#id_patronymic",function(){var e=$(this);ajaxForPatronymic(e,c,k,m,a,300)});a.on("input","#id_birthday",function(){var e=$(this);ajaxForBirthday(e,c,k,m,a,300)});a.on("input","#code",function(){var e=
$(this);k.code=0<e.val().length;checkBtnDone(k)});a.on("mouseup","#btn-register",function(e){var r=$(this).attr("data-part-url");$.ajax({url:"register/"+r,type:"post",data:{code:q.val(),email:f.val(),csrfmiddlewaretoken:c},success:function(p){chooseValidationColor(e.target,p.resultStatus);"success"===p.resultStatus?(e.target.type="submit",$(e.target).trigger("click")):"error"===p.resultStatus&&(k.code=!1,m.code=!0,chooseValidationColor(q[0],p.resultStatus),showErrors(a,q,p.listErrors,300),q.focus(),
checkBtnDone(k))},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");
}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");}})})});function formatValue(a){a=a[0];if(""!==a.value){var c=a.selectionStart;a.value=a.value[0].toUpperCase()+a.value.slice(1).toLowerCase();a.selectionStart=a.selectionEnd=c}}
function ajaxForUsername(a,c,b,g,h,f){a[0].value=a[0].value.toLowerCase();$.ajax({url:"",type:"post",data:{id:a[0].id,username:a[0].value,csrfmiddlewaretoken:c},success:function(d){chooseValidationColor(a[0],d.resultStatus);"success"===d.resultStatus?(b.username=!0,g.username=!1,removeErrors(a,f)):"error"===d.resultStatus&&(b.username=!1,g.username=!0,showErrors(h,a,d.resultError,f));checkBtnRegister(b);checkBtnNext(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");
},403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}
function ajaxForPassword1(a,c,b,g,h,f){var d=$("#id_password2");$.ajax({url:"",type:"post",data:{id:a[0].id,password1:a[0].value,password2:d[0].value,csrfmiddlewaretoken:c},success:function(l){chooseValidationColor(a[0],l.resultStatus);"success"===l.resultStatus?(b.password1=!0,g.password1=!1,removeErrors(a,f),l=$("#id_password2"),l.prop({disabled:!1}),l.val(""),b.password2=!1,g.password2=!1):"error"===l.resultStatus&&(b.password1=!1,g.password1=!0,showErrors(h,a,l.resultError,f),$("#id_password2").prop({disabled:!0}));checkBtnRegister(b);
checkBtnNext(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");
}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");}})}
function ajaxForPassword2(a,c,b,g,h,f){var d=$("#id_password1");$.ajax({url:"",type:"post",data:{id:a[0].id,password1:d[0].value,password2:a[0].value,csrfmiddlewaretoken:c},success:function(l){chooseValidationColor(a[0],l.resultStatus);"success"===l.resultStatus?(b.password2=!0,g.password2=!1,removeErrors(a,f)):"error"===l.resultStatus&&(b.password2=!1,g.password2=!0,showErrors(h,a,l.resultError,f));checkBtnRegister(b);checkBtnNext(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");
},403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}
function ajaxForEmail(a,c,b,g,h,f){$.ajax({url:"",type:"post",data:{id:a[0].id,email:a[0].value,csrfmiddlewaretoken:c},success:function(d){chooseValidationColor(a[0],d.resultStatus);"success"===d.resultStatus?(b.email=!0,g.email=!1,removeErrors(a,f)):"error"===d.resultStatus&&(b.email=!1,g.email=!0,showErrors(h,a,d.resultError,f));checkBtnRegister(b);checkBtnNext(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},
403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}
function ajaxForName(a,c,b,g,h,f){formatValue(a);$.ajax({url:"",type:"post",data:{id:a[0].id,name:a[0].value,csrfmiddlewaretoken:c},success:function(d){chooseValidationColor(a[0],d.resultStatus);"success"===d.resultStatus?(b.name=!0,g.name=!1,removeErrors(a,f)):"error"===d.resultStatus&&(b.name=!1,g.name=!0,showErrors(h,a,d.resultError,f));checkBtnRegister(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},
403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}
function ajaxForSurname(a,c,b,g,h,f){formatValue(a);$.ajax({url:"",type:"post",data:{id:a[0].id,surname:a[0].value,csrfmiddlewaretoken:c},success:function(d){chooseValidationColor(a[0],d.resultStatus);"success"===d.resultStatus?(b.surname=!0,g.surname=!1,removeErrors(a,f)):"error"===d.resultStatus&&(b.surname=!1,g.surname=!0,showErrors(h,a,d.resultError,f));checkBtnRegister(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},
403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}
function ajaxForPatronymic(a,c,b,g,h,f){formatValue(a);$.ajax({url:"",type:"post",data:{id:a[0].id,patronymic:a[0].value,csrfmiddlewaretoken:c},success:function(d){chooseValidationColor(a[0],d.resultStatus);"success"===d.resultStatus?(b.patronymic=!0,g.patronymic=!1,removeErrors(a,f)):"error"===d.resultStatus&&(b.patronymic=!1,g.patronymic=!0,showErrors(h,a,d.resultError,f));checkBtnRegister(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},
403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}
function ajaxForBirthday(a,c,b,g,h,f){$.ajax({url:"",type:"post",data:{id:a[0].id,birthday:a[0].value,csrfmiddlewaretoken:c},success:function(d){chooseValidationColor(a[0],d.resultStatus);"success"===d.resultStatus?(b.birthday=!0,g.birthday=!1,removeErrors(a,f)):"error"===d.resultStatus&&(b.birthday=!1,g.birthday=!0,showErrors(h,a,d.resultError,f));checkBtnRegister(b)},statusCode:{400:function(){throw Error("Error 400 - \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");},
403:function(){throw Error("Error 403 - \u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d");},404:function(){throw Error("Error 404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");},500:function(){throw Error("Error 500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");}},error:function(){throw Error("\u0427\u0442\u043e - \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");
}})}function chooseValidationColor(a,c){"success"===c?a.classList.contains("error")&&a.classList.remove("error"):"error"===c&&a.classList.add("error")}function showErrors(a,c,b,g){a=$(c).parent().children(".popup");c=a.children(".popup_message");c.children().remove();for(var h=0;h<b.length;h++){var f=document.createElement("span");f.classList.add("popup_message-text");f.textContent=b[h];c.append(f)}a.css({display:"block",opacity:0}).stop().animate({opacity:1},g)}
function removeErrors(a,c){a=$(a).parent().children(".popup");var b=a.children(".popup_message");a.stop().animate({opacity:0},c,function(){$(this).css({display:"none"});b.children().remove()})}function checkBtnRegister(a){isTrueAllinObj(a,!1)?$("#next-3").prop({disabled:!1}):$("#next-3").prop({disabled:!0})}function checkBtnNext(a){!0===a.username&&!0===a.email&&!0===a.password1&&!0===a.password2?$("#next-2").prop({disabled:!1}):$("#next-2").prop({disabled:!0})}
function checkBtnDone(a){isTrueAllinObj(a,!0)?$("#btn-register").prop({disabled:!1}):$("#btn-register").prop({disabled:!0})}function isTrueAllinObj(a,c){for(var b in a)if("code"!==b){if(!1===a[b])return!1}else if(c&&!1===a[b])return!1;return!0};
