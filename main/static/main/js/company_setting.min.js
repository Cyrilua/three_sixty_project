var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(g){return g.raw=g};$jscomp.createTemplateTagFirstArgWithRaw=function(g,f){g.raw=f;return g};
$(function(){function g(b,a,c){if("position"!==b&&"platform"!==b)throw Error("Unexpected argument on item creation");var d=document.createElement("div");$(d).addClass("area__item");"position"===b?$(d).attr({"data-position-id":a}):"platform"===b&&$(d).attr({"data-platform-id":a});a=document.createElement("div");$(a).addClass("item__text").text(c);$(d).append(a);c=document.createElement("img");$(c).addClass("item__remove").attr({src:"/static/main/images/icon/clear-24px.svg",id:b+"Remove"});$(d).append(c);
return d}var f=$("body"),h=$('input[name="csrfmiddlewaretoken"]').val(),p=$("#companyName").val().toString(),q=$("#companyDescription").val().replace(/[\r\n]/g,""),e=[];window.onbeforeunload=function(){for(var b=0;b<e.length;b++)e[b].finish||$.ajax(e[b].request)};window.onunload=function(){};f.on("click","#copy",function(b){b=$("#href-invite");b.css({display:"block"}).select();document.execCommand("copy");""!==b.val()&&window.getSelection().toString()===b.val()?Snackbar.show({text:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430",
textColor:"#1ecb00",customClass:"custom center",showAction:!1,duration:3E3}):Snackbar.show({text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u0441\u044b\u043b\u043a\u0438",textColor:"#ff0000",customClass:"custom center",showAction:!1,duration:3E3});b.css({display:"none"})});f.on("click","#positionRemove",function(b){var a=$(this).parent();b=a.attr("data-position-id");var c=a.children(".item__text").text(),d;$.ajax({url:"position/"+
b+"/remove/",type:"post",data:{csrfmiddlewaretoken:h},beforeSend:function(k,l){if(e[d])a.addClass("hide");else{d=e.length;k.abort();e.push({request:l,finish:!1});a.addClass("hide");var m=setTimeout(function(){e[d].finish||$.ajax(l)},5E3);Snackbar.show({text:'\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c "'+c+'" \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430',customClass:"custom no-animation center",actionText:"\u041e\u0442\u043c\u0435\u043d\u0430",actionTextColor:"yellow",
width:"910px",pos:"bottom-center",duration:5E3,onActionClick:function(n){clearTimeout(m);$(n).remove();e[d].finish=!0;a.removeClass("hide")}})}},success:function(k){a.remove()},complete:function(){},error:function(){a.removeClass("hide");Snackbar.show({text:'\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "'+c+'"',textColor:"#ff0000",customClass:"custom no-animation",showAction:!1,duration:3E3})}})});f.on("click",
"#platformRemove",function(b){var a=$(this).parent();b=a.attr("data-platform-id");var c=a.children(".item__text").text(),d;$.ajax({url:"platform/"+b+"/remove/",type:"post",data:{csrfmiddlewaretoken:h},beforeSend:function(k,l){if(e[d])a.addClass("hide");else{d=e.length;k.abort();e.push({request:l,finish:!1});a.addClass("hide");var m=setTimeout(function(){e[d].finish||$.ajax(l)},5E3);Snackbar.show({text:'\u041e\u0442\u0434\u0435\u043b "'+c+'" \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d',
customClass:"custom no-animation center",actionText:"\u041e\u0442\u043c\u0435\u043d\u0430",actionTextColor:"yellow",width:"910px",pos:"bottom-center",duration:5E3,onActionClick:function(n){clearTimeout(m);$(n).remove();e[d].finish=!0;a.removeClass("hide")}})}},success:function(k){a.remove()},complete:function(){},error:function(){a.removeClass("hide");Snackbar.show({text:'\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u0434\u0435\u043b\u0430 "'+
c+'"',textColor:"#ff0000",customClass:"custom no-animation",showAction:!1,duration:3E3})}})});f.on("click","#addPosition",function(b){var a=$("#namePosition"),c=a.val();0<c.length&&$.ajax({url:"position/add/",type:"post",data:{namePosition:c,csrfmiddlewaretoken:h},beforeSend:function(d){$("#positions").addClass("loading")},success:function(d){$("#positions").children(".area__body").prepend(g("position",d.positionId,c));a.val("");$(this).prop({disabled:!0})},complete:function(){$("#positions").removeClass("loading")},
error:function(){Snackbar.show({text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438.",textColor:"#ff0000",customClass:"custom no-animation",showAction:!1,duration:3E3})}})});f.on("click","#addPlatform",function(b){var a=$("#namePlatform"),c=a.val();0<c.length&&$.ajax({url:"platform/add/",type:"post",data:{namePlatform:c,
csrfmiddlewaretoken:h},beforeSend:function(d){$("#platforms").addClass("loading")},success:function(d){$("#platforms").children(".area__body").prepend(g("platform",d.platformId,c));a.val("");$(this).prop({disabled:!0})},complete:function(){$("#platforms").removeClass("loading")},error:function(){Snackbar.show({text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438.",
textColor:"#ff0000",customClass:"custom no-animation",showAction:!1,duration:3E3})}})});f.on("input","#namePosition",function(b){0<$(this).val().length?$("#addPosition").prop({disabled:!1}):$("#addPosition").prop({disabled:!0})});f.on("input","#namePlatform",function(b){0<$(this).val().length?$("#addPlatform").prop({disabled:!1}):$("#addPlatform").prop({disabled:!0})});f.on("click","#saveChanges",function(b){var a=$("#companyName").val(),c=$("#companyDescription").val();$.ajax({url:"change/",type:"post",
data:{name:a,description:c,csrfmiddlewaretoken:h},beforeSend:function(){$("#saveChanges, #companyName, #companyDescription").prop({disabled:!0})},success:function(){p=a;q=c;$("#saveChanges").prop({disabled:!0});$("#companyName, #companyDescription").prop({disabled:!1});Snackbar.show({text:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.",textColor:"#07bd00",customClass:"custom no-animation",showAction:!1,duration:3E3})},complete:function(){},
error:function(){$("#saveChanges, #companyName, #companyDescription").prop({disabled:!1});Snackbar.show({text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438.",textColor:"#ff0000",customClass:"custom no-animation",showAction:!1,duration:3E3})}})});f.on("input keydown","#companyName, #companyDescription",function(b){if(13===b.keyCode)b.preventDefault();else{if("companyName"===
this.id){var a=$(this).val();var c=$("#companyDescription").val()}else"companyDescription"===this.id&&(a=$("#companyName").val(),c=$(this).val());0<a.length&&0<c.length&&(c.replace(/[\r\n]/g,"")!==q||a!==p)?($("#saveChanges").prop({disabled:!1}),console.log(!1)):($("#saveChanges").prop({disabled:!0}),console.log(!0))}})});
