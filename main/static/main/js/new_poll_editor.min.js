var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(c){return c.raw=c};$jscomp.createTemplateTagFirstArgWithRaw=function(c,f){c.raw=f;return c};$jscomp.arrayIteratorImpl=function(c){var f=0;return function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,g){if(c==Array.prototype||c==Object.prototype)return c;c[f]=g.value;return c};
$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,f){var g=$jscomp.propertyToPolyfillSymbol[f];if(null==g)return c[f];g=c[g];return void 0!==g?g:c[f]};$jscomp.polyfill=function(c,f,g,h){f&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,f,g,h):$jscomp.polyfillUnisolated(c,f,g,h))};
$jscomp.polyfillUnisolated=function(c,f,g,h){g=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var k=c[h];if(!(k in g))return;g=g[k]}c=c[c.length-1];h=g[c];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:f})};
$jscomp.polyfillIsolated=function(c,f,g,h){var k=c.split(".");c=1===k.length;h=k[0];h=!c&&h in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<k.length-1;q++){var n=k[q];if(!(n in h))return;h=h[n]}k=k[k.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?h[k]:null;f=f(g);null!=f&&(c?$jscomp.defineProperty($jscomp.polyfills,k,{configurable:!0,writable:!0,value:f}):f!==g&&($jscomp.propertyToPolyfillSymbol[k]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(k):$jscomp.POLYFILL_PREFIX+k,k=
$jscomp.propertyToPolyfillSymbol[k],$jscomp.defineProperty(h,k,{configurable:!0,writable:!0,value:f})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(c){if(c)return c;var f=function(k,q){this.$jscomp$symbol$id_=k;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:q})};f.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,h=function(k){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new f("jscomp_symbol_"+(k||"")+"_"+g++,k)};return h},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<f.length;g++){var h=$jscomp.global[f[g]];"function"===typeof h&&"function"!=typeof h.prototype[c]&&$jscomp.defineProperty(h.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return c},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(c){c={next:c};c[Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,f){c instanceof String&&(c+="");var g=0,h={next:function(){if(g<c.length){var k=g++;return{value:f(k,c[k]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");$jscomp.findInternal=function(c,f,g){c instanceof String&&(c=String(c));for(var h=c.length,k=0;k<h;k++){var q=c[k];if(f.call(g,q,k,c))return{i:k,v:q}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(f,g){return $jscomp.findInternal(this,f,g).v}},"es6","es3");
$(function(){function c(a,e){a.style.height="1px";a.style.height=a.scrollHeight+e+"px"}function f(a){var e=document.createElement("div");e.classList.add("answer");var b=document.createElement("div");b.classList.add("answer__icon");e.append(b);if("radio"===a)a='<div class="mdc-form-field">\n                            <div class="mdc-radio mdc-radio--disabled">\n                                <input class="mdc-radio__native-control" type="radio" id="" name="" disabled>\n                                <div class="mdc-radio__background">\n                                    <div class="mdc-radio__outer-circle"></div>\n                                    <div class="mdc-radio__inner-circle"></div>\n                                </div>\n                                <div class="mdc-radio__ripple"></div>\n                            </div>\n                        </div>';
else if("checkbox"===a)a='<div class="mdc-form-field">\n                            <div class="mdc-checkbox mdc-checkbox--disabled">\n                                <input class="mdc-checkbox__native-control" type="checkbox" id="" name="" disabled>\n                                <div class="mdc-checkbox__background">\n                                    <div class="mdc-checkbox__outer-circle"></div>\n                                    <div class="mdc-checkbox__inner-circle"></div>\n                                </div>\n                                <div class="mdc-checkbox__ripple"></div>\n                            </div>\n                        </div>';
else throw Error("Unexpected attribute when adding answer option");b.insertAdjacentHTML("afterbegin",a);b=document.createElement("textarea");b.classList.add("textarea-line","answer__text");$(b).attr({name:"",id:"",rows:"1",placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",maxlength:150});e.append(b);b=document.createElement("img");b.classList.add("answer__clear");$(b).attr({src:"/static/main/images/icon/clear-24px.svg",alt:""});e.append(b);return e}function g(a){var e=
new mdc.select.MDCSelect(a.querySelector(".mdc-select"));e.listen("MDCSelect:change",function(){var b=$(a),d=b.attr("data-question-id"),l=b.attr("data-question-type"),p=e.value;if(l!==p){console.log(l,p);var m=b.children(".question__answers"),u;"checkbox"===p?u='<div class="mdc-form-field">\n                            <div class="mdc-checkbox mdc-checkbox--disabled">\n                                <input class="mdc-checkbox__native-control" type="checkbox" id="" name="" disabled>\n                                <div class="mdc-checkbox__background">\n                                    <div class="mdc-checkbox__outer-circle"></div>\n                                    <div class="mdc-checkbox__inner-circle"></div>\n                                </div>\n                                <div class="mdc-checkbox__ripple"></div>\n                            </div>\n                        </div>':
"radio"===p&&(u='<div class="mdc-form-field">\n                            <div class="mdc-radio mdc-radio--disabled">\n                                <input class="mdc-radio__native-control" type="radio" id="" name="" disabled>\n                                <div class="mdc-radio__background">\n                                    <div class="mdc-radio__outer-circle"></div>\n                                    <div class="mdc-radio__inner-circle"></div>\n                                </div>\n                                <div class="mdc-radio__ripple"></div>\n                            </div>\n                        </div>');
console.log(m);b.attr({"data-question-type":p});if("radio"===l&&"checkbox"===p||"checkbox"===l&&"radio"===p)$(m.children(".answer")).each(function(v,w){v=$(w).children(".answer__icon");v.empty();v[0].insertAdjacentHTML("afterbegin",u)});else if(m.empty(),"radio"===p||"checkbox"===p)d=document.createElement("div"),d.classList.add("answer"),m.append(d),b=document.createElement("div"),b.classList.add("answer__icon"),d.append(b),b.insertAdjacentHTML("afterbegin",u),b=document.createElement("textarea"),
b.classList.add("textarea-line","answer__text"),$(b).attr({name:"",id:"",rows:"1",placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",maxlength:150}),d.append(b),b=document.createElement("img"),b.classList.add("answer__clear"),$(b).attr({src:"/static/main/images/icon/clear-24px.svg",alt:""}),d.append(b),d=document.createElement("a"),d.classList.add("new-answer__btn"),d.text="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",
m.after(d);else if("openQuestion"===p)b.children(".new-answer__btn").remove(),d=document.createElement("textarea"),d.classList.add("open-question","textarea-line"),$(d).attr({placeholder:"\u041f\u043e\u043b\u0435 \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430"}),$(d).prop({disabled:!0}),m.append(d);else if("range"===p)b.children(".new-answer__btn").remove(),b=document.createElement("div"),b.classList.add("slider-range"),m.append(b),b.insertAdjacentHTML("afterbegin",'<div class="mdc-slider mdc-slider--discrete" tabindex="0" role="slider"\n                         aria-valuemin="0" aria-valuemax="10" aria-valuenow="0" data-step="1"\n                         aria-label="Select Value" aria-disabled="false">\n                        <div class="mdc-slider__track-container">\n                            <div class="mdc-slider__track"></div>\n                        </div>\n                        <div class="mdc-slider__thumb-container">\n                            <div class="mdc-slider__pin">\n                                <span class="mdc-slider__pin-value-marker"></span>\n                            </div>\n                            <svg class="mdc-slider__thumb" width="21" height="21">\n                                <circle cx="10.5" cy="10.5" r="7.875"></circle>\n                            </svg>\n                            <div class="mdc-slider__focus-ring"></div>\n                        </div>\n                    </div>'),
m=document.createElement("div"),m.classList.add("slider-range__settings"),b.append(m),b=document.createElement("div"),b.classList.add("min"),m.append(b),l=document.createElement("label"),l.classList.add("min__label"),$(l).attr({"for":"min_"+d}),l.textContent="\u041e\u0442",b.append(l),l=document.createElement("input"),l.classList.add("input-transparent","slider-range__min"),$(l).attr({type:"number",id:"min_"+d,min:"0",max:"100",value:"0"}),b.append(l),b=document.createElement("div"),b.classList.add("step"),
m.append(b),l=document.createElement("label"),l.classList.add("step__label"),$(l).attr({"for":"step_"+d}),l.textContent="\u0421 \u0448\u0430\u0433\u043e\u043c",b.append(l),l=document.createElement("input"),l.classList.add("input-transparent","slider-range__step"),$(l).attr({type:"number",id:"step_"+d,min:"1",max:"50",value:"1"}),b.append(l),b=document.createElement("div"),b.classList.add("max"),m.append(b),m=document.createElement("label"),m.classList.add("max__label"),$(m).attr({"for":"max_"+d}),
m.textContent="\u0414\u043e",b.append(m),m=document.createElement("input"),m.classList.add("input-transparent","slider-range__max"),$(m).attr({type:"number",id:"max_"+d,min:"1",max:"100",value:"10"}),b.append(m),h(a);else throw Error("Unexpected attribute on question change");console.log(p)}})}function h(a){var e=new mdc.slider.MDCSlider(a.querySelector(".mdc-slider"));e.min=parseInt($(a).find(".slider-range__min").val());e.max=parseInt($(a).find(".slider-range__max").val());e.step=parseInt($(a).find(".slider-range__step").val());
e.listen("MDCSlider:change",function(){console.log("Value changed to "+e.value)})}function k(a){var e=Object.keys(r),b;for(b in e)if(b===a){a=k(q());break}return a}function q(){for(var a="",e=0;33>e;e++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}var n=$("body"),t=$(".poll-editor__header"),r={};(function(){var a=$(".question");0===a.children(".question").length?$("#nextToStep2").prop({disabled:!0}):$("#nextToStep2").prop({disabled:!1});
var e=$(".color__variable--select");t.removeClass("red blue purple");e.hasClass("blue")?(t.addClass("blue"),document.documentElement.style.setProperty("--mdc-theme-primary","#001AFF"),document.documentElement.style.setProperty("--mdc-theme-secondary","#001AFF"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white")):e.hasClass("red")?(console.log("qwe"),t.addClass("red"),document.documentElement.style.setProperty("--mdc-theme-primary","#FF1841"),document.documentElement.style.setProperty("--mdc-theme-secondary",
"#FF1841"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white")):e.hasClass("purple")?(t.addClass("purple"),document.documentElement.style.setProperty("--mdc-theme-primary","#DB00FF"),document.documentElement.style.setProperty("--mdc-theme-secondary","#DB00FF"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white")):(document.documentElement.style.setProperty("--mdc-theme-primary","#C4C4C4"),document.documentElement.style.setProperty("--mdc-theme-secondary",
"#C4C4C4"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","black"));$(".textarea-line").each(function(b,d){""!==d.value&&c(d,5)});$(".textarea-border").each(function(b,d){""!==d.value&&c(d,-1)});a.each(function(b,d){g(d);"range"===$(d).attr("data-question-type")&&h(d);r[$(d).attr("data-question-id")]={type:$(d).attr("data-question-type")}})})();n.on("click",".color__variable",function(){$(".color__variable").removeClass("color__variable--select");$(this).addClass("color__variable--select");
var a=$(this).attr("data-color");t.removeClass("red blue purple");if(""!==a)if(t.addClass(a),"red"===a)document.documentElement.style.setProperty("--mdc-theme-primary","#FF1841"),document.documentElement.style.setProperty("--mdc-theme-secondary","#FF1841"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white");else if("blue"===a)document.documentElement.style.setProperty("--mdc-theme-primary","#001AFF"),document.documentElement.style.setProperty("--mdc-theme-secondary",
"#001AFF"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white");else if("purple"===a)document.documentElement.style.setProperty("--mdc-theme-primary","#DB00FF"),document.documentElement.style.setProperty("--mdc-theme-secondary","#DB00FF"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white");else throw Error("Unexpected attribute on color change");else document.documentElement.style.setProperty("--mdc-theme-primary","#C4C4C4"),document.documentElement.style.setProperty("--mdc-theme-secondary",
"#C4C4C4"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","black")});n.on("input",".textarea-line",function(){c(this,5)});n.on("input",".textarea-border",function(){c(this,-1)});n.on("change",".slider-range__min",function(){var a=parseInt($(this).val());if(0>a)a=0;else if(100<a)a=100;else if("number"!==typeof a||isNaN(a))a=0;$(this).val(a);if(0<=a&&100>=a){var e=$(this).closest(".slider-range").children(".mdc-slider");(new mdc.slider.MDCSlider(e[0])).min=a}});n.on("change",
".slider-range__max",function(){var a=parseInt($(this).val());if(1>a)a=1;else if(100<a)a=100;else if("number"!==typeof a||isNaN(a))a=100;$(this).val(a);if(1<=a&&100>=a){var e=$(this).closest(".slider-range").children(".mdc-slider");(new mdc.slider.MDCSlider(e[0])).max=a}});n.on("change",".slider-range__step",function(){var a=parseInt($(this).val()),e=parseInt($(this).parent().parent().children(".max").children(".slider-range__max").val());if(1>a)a=1;else if(a>e)a=e;else if("number"!==typeof a||isNaN(a))a=
1;$(this).val(a);1<=a&&50>=a&&(e=$(this).closest(".slider-range").children(".mdc-slider"),(new mdc.slider.MDCSlider(e[0])).step=a)});n.on("click",".question__urn",function(){var a=$(this).parent().parent(),e=$(a).parent();50===e.children(".question").length&&(console.log(e.parent().children(".actions").children(".plus")),e.parent().children(".actions").children(".plus").removeClass("hide"));var b=a.attr("data-question-id");delete r[b];a.remove();0===e.children(".question").length&&$("#nextToStep2").prop({disabled:!0});
console.log(r)});n.on("click",".plus",function(){var a=$(".questions"),e=document.createElement("div");e.classList.add("question","rounded-block");var b=k(q());$(e).attr({"data-question-type":"radio","data-question-id":b});b=document.createElement("div");b.classList.add("question__main");e.append(b);var d=document.createElement("textarea");d.classList.add("question__name","textarea-border");$(d).attr({placeholder:"\u0412\u043e\u043f\u0440\u043e\u0441",maxlength:150});b.append(d);d=document.createElement("div");
d.classList.add("question__type","unselectable");b.append(d);d.insertAdjacentHTML("afterbegin",'<div class="mdc-select mdc-select--outlined width-264">\n                        <div class="mdc-select__anchor height-50" aria-labelledby="outlined-select-label">\n                            <span id="" class="mdc-select__selected-text"></span>\n                            <span class="mdc-select__dropdown-icon">\n                                <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5">\n                                    <polygon\n                                            class="mdc-select__dropdown-icon-inactive"\n                                            stroke="none"\n                                            fill-rule="evenodd"\n                                            points="7 10 12 15 17 10">\n                                    </polygon>\n                                    <polygon\n                                            class="mdc-select__dropdown-icon-active"\n                                            stroke="none"\n                                            fill-rule="evenodd"\n                                            points="7 15 12 10 17 15">\n                                    </polygon>\n                                </svg>\n                            </span>\n                            <span class="mdc-notched-outline">\n                            <span class="mdc-notched-outline__leading"></span>\n                            <span class="mdc-notched-outline__notch">\n                            </span>\n                            <span class="mdc-notched-outline__trailing"></span>\n                        </span>\n                        </div>\n                        <div class="mdc-select__menu mdc-menu mdc-menu-surface width-264">\n                            <ul class="mdc-list">\n                                <li class="mdc-list-item mdc-list-item--selected" data-value="radio">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u041e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</span>\n                                </li>\n                                <li class="mdc-list-item" data-value="checkbox">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</span>\n                                </li>\n                                <li class="mdc-list-item" data-value="openQuestion">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u0420\u0430\u0437\u0432\u0451\u0440\u043d\u0443\u0442\u044b\u0439 \u043e\u0442\u0432\u0435\u0442</span>\n                                </li>\n                                <li class="mdc-list-item" data-value="range">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u0428\u043a\u0430\u043b\u0430</span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>');
g(e);d=document.createElement("div");d.classList.add("question__answers");e.append(d);b=document.createElement("div");b.classList.add("answer");d.append(b);d=document.createElement("div");d.classList.add("answer__icon");b.append(d);d.insertAdjacentHTML("afterbegin",'<div class="mdc-form-field">\n                            <div class="mdc-radio mdc-radio--disabled">\n                                <input class="mdc-radio__native-control" type="radio" id="" name="" disabled>\n                                <div class="mdc-radio__background">\n                                    <div class="mdc-radio__outer-circle"></div>\n                                    <div class="mdc-radio__inner-circle"></div>\n                                </div>\n                                <div class="mdc-radio__ripple"></div>\n                            </div>\n                        </div>');
d=document.createElement("textarea");d.classList.add("textarea-line","answer__text");$(d).attr({name:"",id:"",rows:"1",placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",maxlength:150});b.append(d);d=document.createElement("img");d.classList.add("answer__clear");$(d).attr({src:"/static/main/images/icon/clear-24px.svg",alt:""});b.append(d);b=document.createElement("a");b.classList.add("new-answer__btn");b.text="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430";
e.append(b);b=document.createElement("div");b.classList.add("question__footer");e.append(b);d=document.createElement("img");d.classList.add("question__urn");$(d).attr({src:"/static/main/images/icon/delete_forever-24px.svg",alt:""});b.append(d);console.log(e);a.append(e);$("#nextToStep2").prop({disabled:!1});r[$(e).attr("data-question-id")]={type:$(e).attr("data-question-type")};console.log(r);50<=a.children(".question").length&&$(this).addClass("hide")});n.on("click",".new-answer__btn",function(){var a=
$(this).parent(),e=a.attr("data-question-type");if("radio"===e||"checkbox"===e)a=a.children(".question__answers"),a.append(f(e)),15<=a.children(".answer").length&&$(this).addClass("hide");else throw Error("Unexpected attribute when adding answer option");});n.on("click",".answer__clear",function(){var a=$(this).parent(),e=a.parent(),b=e.parent(),d=b.attr("data-question-type");if("radio"===d||"checkbox"===d){e=e.children(".answer").length;if(15===e)b.children(".new-answer__btn").removeClass("hide");
else if(1===e){a.children(".answer__text").val("");return}a.remove()}else throw Error("Unexpected attribute when adding answer option");});n.on("click","#cancel",function(){location.href="/polls/"})});
