var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(b){return b.raw=b};$jscomp.createTemplateTagFirstArgWithRaw=function(b,f){b.raw=f;return b};$jscomp.arrayIteratorImpl=function(b){var f=0;return function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,g){if(b==Array.prototype||b==Object.prototype)return b;b[f]=g.value;return b};
$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<b.length;++f){var g=b[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,f){var g=$jscomp.propertyToPolyfillSymbol[f];if(null==g)return b[f];g=b[g];return void 0!==g?g:b[f]};$jscomp.polyfill=function(b,f,g,h){f&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,f,g,h):$jscomp.polyfillUnisolated(b,f,g,h))};
$jscomp.polyfillUnisolated=function(b,f,g,h){g=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var k=b[h];if(!(k in g))return;g=g[k]}b=b[b.length-1];h=g[b];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:f})};
$jscomp.polyfillIsolated=function(b,f,g,h){var k=b.split(".");b=1===k.length;h=k[0];h=!b&&h in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<k.length-1;q++){var n=k[q];if(!(n in h))return;h=h[n]}k=k[k.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?h[k]:null;f=f(g);null!=f&&(b?$jscomp.defineProperty($jscomp.polyfills,k,{configurable:!0,writable:!0,value:f}):f!==g&&($jscomp.propertyToPolyfillSymbol[k]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(k):$jscomp.POLYFILL_PREFIX+k,k=
$jscomp.propertyToPolyfillSymbol[k],$jscomp.defineProperty(h,k,{configurable:!0,writable:!0,value:f})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var f=function(k,q){this.$jscomp$symbol$id_=k;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:q})};f.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,h=function(k){if(this instanceof h)throw new TypeError("Symbol is not a constructor");return new f("jscomp_symbol_"+(k||"")+"_"+g++,k)};return h},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<f.length;g++){var h=$jscomp.global[f[g]];"function"===typeof h&&"function"!=typeof h.prototype[b]&&$jscomp.defineProperty(h.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,f){b instanceof String&&(b+="");var g=0,h={next:function(){if(g<b.length){var k=g++;return{value:f(k,b[k]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");$jscomp.findInternal=function(b,f,g){b instanceof String&&(b=String(b));for(var h=b.length,k=0;k<h;k++){var q=b[k];if(f.call(g,q,k,b))return{i:k,v:q}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(f,g){return $jscomp.findInternal(this,f,g).v}},"es6","es3");
$(function(){function b(a,d){a.style.height="1px";a.style.height=a.scrollHeight+d+"px"}function f(a){var d=document.createElement("div");d.classList.add("answer");var c=document.createElement("div");c.classList.add("answer__icon");d.append(c);if("radio"===a)a='<div class="mdc-form-field">\n                            <div class="mdc-radio mdc-radio--disabled">\n                                <input class="mdc-radio__native-control" type="radio" id="" name="" disabled>\n                                <div class="mdc-radio__background">\n                                    <div class="mdc-radio__outer-circle"></div>\n                                    <div class="mdc-radio__inner-circle"></div>\n                                </div>\n                                <div class="mdc-radio__ripple"></div>\n                            </div>\n                        </div>';
else if("checkbox"===a)a='<div class="mdc-form-field">\n                            <div class="mdc-checkbox mdc-checkbox--disabled">\n                                <input class="mdc-checkbox__native-control" type="checkbox" id="" name="" disabled>\n                                <div class="mdc-checkbox__background">\n                                    <div class="mdc-checkbox__outer-circle"></div>\n                                    <div class="mdc-checkbox__inner-circle"></div>\n                                </div>\n                                <div class="mdc-checkbox__ripple"></div>\n                            </div>\n                        </div>';
else throw Error("Unexpected attribute when adding answer option");c.insertAdjacentHTML("afterbegin",a);c=document.createElement("textarea");c.classList.add("textarea-line","answer__text");$(c).attr({name:"",id:"",rows:"1",placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",maxlength:150});d.append(c);c=document.createElement("img");c.classList.add("answer__clear");$(c).attr({src:"/static/main/images/icon/clear-24px.svg",alt:""});d.append(c);return d}function g(a){var d=
new mdc.select.MDCSelect(a.querySelector(".mdc-select"));d.listen("MDCSelect:change",function(){var c=$(a),e=c.attr("data-question-id"),l=c.attr("data-question-type"),p=d.value;if(l!==p){console.log(l,p);var m=c.children(".question__answers"),t;"checkbox"===p?t='<div class="mdc-form-field">\n                            <div class="mdc-checkbox mdc-checkbox--disabled">\n                                <input class="mdc-checkbox__native-control" type="checkbox" id="" name="" disabled>\n                                <div class="mdc-checkbox__background">\n                                    <div class="mdc-checkbox__outer-circle"></div>\n                                    <div class="mdc-checkbox__inner-circle"></div>\n                                </div>\n                                <div class="mdc-checkbox__ripple"></div>\n                            </div>\n                        </div>':
"radio"===p&&(t='<div class="mdc-form-field">\n                            <div class="mdc-radio mdc-radio--disabled">\n                                <input class="mdc-radio__native-control" type="radio" id="" name="" disabled>\n                                <div class="mdc-radio__background">\n                                    <div class="mdc-radio__outer-circle"></div>\n                                    <div class="mdc-radio__inner-circle"></div>\n                                </div>\n                                <div class="mdc-radio__ripple"></div>\n                            </div>\n                        </div>');
console.log(m);c.attr({"data-question-type":p});if("radio"===l&&"checkbox"===p||"checkbox"===l&&"radio"===p)$(m.children(".answer")).each(function(u,w){u=$(w).children(".answer__icon");u.empty();u[0].insertAdjacentHTML("afterbegin",t)});else if(m.empty(),"radio"===p||"checkbox"===p)e=document.createElement("div"),e.classList.add("answer"),m.append(e),c=document.createElement("div"),c.classList.add("answer__icon"),e.append(c),c.insertAdjacentHTML("afterbegin",t),c=document.createElement("textarea"),
c.classList.add("textarea-line","answer__text"),$(c).attr({name:"",id:"",rows:"1",placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",maxlength:150}),e.append(c),c=document.createElement("img"),c.classList.add("answer__clear"),$(c).attr({src:"/static/main/images/icon/clear-24px.svg",alt:""}),e.append(c),e=document.createElement("a"),e.classList.add("new-answer__btn"),e.text="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",
m.after(e);else if("openQuestion"===p)c.children(".new-answer__btn").remove(),e=document.createElement("textarea"),e.classList.add("open-question","textarea-line"),$(e).attr({placeholder:"\u041f\u043e\u043b\u0435 \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430"}),$(e).prop({disabled:!0}),m.append(e);else if("range"===p)c.children(".new-answer__btn").remove(),c=document.createElement("div"),c.classList.add("slider-range"),m.append(c),c.insertAdjacentHTML("afterbegin",'<div class="mdc-slider mdc-slider--discrete" tabindex="0" role="slider"\n                         aria-valuemin="0" aria-valuemax="10" aria-valuenow="0" data-step="1"\n                         aria-label="Select Value" aria-disabled="false">\n                        <div class="mdc-slider__track-container">\n                            <div class="mdc-slider__track"></div>\n                        </div>\n                        <div class="mdc-slider__thumb-container">\n                            <div class="mdc-slider__pin">\n                                <span class="mdc-slider__pin-value-marker"></span>\n                            </div>\n                            <svg class="mdc-slider__thumb" width="21" height="21">\n                                <circle cx="10.5" cy="10.5" r="7.875"></circle>\n                            </svg>\n                            <div class="mdc-slider__focus-ring"></div>\n                        </div>\n                    </div>'),
m=document.createElement("div"),m.classList.add("slider-range__settings"),c.append(m),c=document.createElement("div"),c.classList.add("min"),m.append(c),l=document.createElement("label"),l.classList.add("min__label"),$(l).attr({"for":"min_"+e}),l.textContent="\u041e\u0442",c.append(l),l=document.createElement("input"),l.classList.add("input-transparent","slider-range__min"),$(l).attr({type:"number",id:"min_"+e,min:"0",max:"100",value:"0"}),c.append(l),c=document.createElement("div"),c.classList.add("step"),
m.append(c),l=document.createElement("label"),l.classList.add("step__label"),$(l).attr({"for":"step_"+e}),l.textContent="\u0421 \u0448\u0430\u0433\u043e\u043c",c.append(l),l=document.createElement("input"),l.classList.add("input-transparent","slider-range__step"),$(l).attr({type:"number",id:"step_"+e,min:"1",max:"50",value:"1"}),c.append(l),c=document.createElement("div"),c.classList.add("max"),m.append(c),m=document.createElement("label"),m.classList.add("max__label"),$(m).attr({"for":"max_"+e}),
m.textContent="\u0414\u043e",c.append(m),m=document.createElement("input"),m.classList.add("input-transparent","slider-range__max"),$(m).attr({type:"number",id:"max_"+e,min:"1",max:"100",value:"10"}),c.append(m),h(a);else throw Error("Unexpected attribute on question change");console.log(p)}})}function h(a){var d=new mdc.slider.MDCSlider(a.querySelector(".mdc-slider"));d.min=parseInt($(a).find(".slider-range__min").val());d.max=parseInt($(a).find(".slider-range__max").val());d.step=parseInt($(a).find(".slider-range__step").val());
d.listen("MDCSlider:change",function(){console.log("Value changed to "+d.value)})}function k(a){var d=Object.keys(r),c;for(c in d)if(c===a){a=k(q());break}return a}function q(){for(var a="",d=0;33>d;d++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}var n=$("body"),v=$(".poll-editor__header"),r={};(function(){$(".textarea-line").each(function(a,d){""!==d.value&&b(d,5)});$(".textarea-border").each(function(a,d){""!==d.value&&b(d,-1)});
$(".question").each(function(a,d){g(d);"range"===$(d).attr("data-question-type")&&h(d);r[$(d).attr("data-question-id")]={type:$(d).attr("data-question-type")}})})();n.on("click",".color__variable",function(){$(".color__variable").removeClass("color__variable--select");$(this).addClass("color__variable--select");var a=$(this).attr("data-color");v.removeClass("red blue purple");if(""!==a)if(v.addClass(a),"red"===a)document.documentElement.style.setProperty("--mdc-theme-primary","#FF1841"),document.documentElement.style.setProperty("--mdc-theme-secondary",
"#FF1841"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white");else if("blue"===a)document.documentElement.style.setProperty("--mdc-theme-primary","#001AFF"),document.documentElement.style.setProperty("--mdc-theme-secondary","#001AFF"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white");else if("purple"===a)document.documentElement.style.setProperty("--mdc-theme-primary","#DB00FF"),document.documentElement.style.setProperty("--mdc-theme-secondary",
"#DB00FF"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","white");else throw Error("Unexpected attribute on color change");else document.documentElement.style.setProperty("--mdc-theme-primary","#C4C4C4"),document.documentElement.style.setProperty("--mdc-theme-secondary","#C4C4C4"),document.documentElement.style.setProperty("--mdc-theme-text-primary-on-dark","black")});n.on("input",".textarea-line",function(){b(this,5)});n.on("input",".textarea-border",function(){b(this,
-1)});n.on("change",".slider-range__min",function(){var a=parseInt($(this).val());if(0>a)a=0;else if(100<a)a=100;else if("number"!==typeof a||isNaN(a))a=0;$(this).val(a);if(0<=a&&100>=a){var d=$(this).closest(".slider-range").children(".mdc-slider");(new mdc.slider.MDCSlider(d[0])).min=a}});n.on("change",".slider-range__max",function(){var a=parseInt($(this).val());if(1>a)a=1;else if(100<a)a=100;else if("number"!==typeof a||isNaN(a))a=100;$(this).val(a);if(1<=a&&100>=a){var d=$(this).closest(".slider-range").children(".mdc-slider");
(new mdc.slider.MDCSlider(d[0])).max=a}});n.on("change",".slider-range__step",function(){var a=parseInt($(this).val()),d=parseInt($(this).parent().parent().children(".max").children(".slider-range__max").val());if(1>a)a=1;else if(a>d)a=d;else if("number"!==typeof a||isNaN(a))a=1;$(this).val(a);1<=a&&50>=a&&(d=$(this).closest(".slider-range").children(".mdc-slider"),(new mdc.slider.MDCSlider(d[0])).step=a)});n.on("click",".question__urn",function(){var a=$(this).parent().parent(),d=$(a).parent();5===
d.children(".question").length&&(console.log(d.parent().children(".actions").children(".plus")),d.parent().children(".actions").children(".plus").removeClass("hide"));var c=a.attr("data-question-id");delete r[c];a.remove();d.children(".question");console.log(r)});n.on("click",".plus",function(){var a=$(".questions"),d=document.createElement("div");d.classList.add("question","rounded-block");var c=k(q());$(d).attr({"data-question-type":"radio","data-question-id":c});c=document.createElement("div");
c.classList.add("question__main");d.append(c);var e=document.createElement("textarea");e.classList.add("question__name","textarea-border");$(e).attr({placeholder:"\u0412\u043e\u043f\u0440\u043e\u0441",maxlength:150});c.append(e);e=document.createElement("div");e.classList.add("question__type","unselectable");c.append(e);e.insertAdjacentHTML("afterbegin",'<div class="mdc-select mdc-select--outlined width-264">\n                        <div class="mdc-select__anchor height-50" aria-labelledby="outlined-select-label">\n                            <span id="" class="mdc-select__selected-text"></span>\n                            <span class="mdc-select__dropdown-icon">\n                                <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5">\n                                    <polygon\n                                            class="mdc-select__dropdown-icon-inactive"\n                                            stroke="none"\n                                            fill-rule="evenodd"\n                                            points="7 10 12 15 17 10">\n                                    </polygon>\n                                    <polygon\n                                            class="mdc-select__dropdown-icon-active"\n                                            stroke="none"\n                                            fill-rule="evenodd"\n                                            points="7 15 12 10 17 15">\n                                    </polygon>\n                                </svg>\n                            </span>\n                            <span class="mdc-notched-outline">\n                            <span class="mdc-notched-outline__leading"></span>\n                            <span class="mdc-notched-outline__notch">\n                            </span>\n                            <span class="mdc-notched-outline__trailing"></span>\n                        </span>\n                        </div>\n                        <div class="mdc-select__menu mdc-menu mdc-menu-surface width-264">\n                            <ul class="mdc-list">\n                                <li class="mdc-list-item mdc-list-item--selected" data-value="radio">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u041e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</span>\n                                </li>\n                                <li class="mdc-list-item" data-value="checkbox">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</span>\n                                </li>\n                                <li class="mdc-list-item" data-value="openQuestion">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u0420\u0430\u0437\u0432\u0451\u0440\u043d\u0443\u0442\u044b\u0439 \u043e\u0442\u0432\u0435\u0442</span>\n                                </li>\n                                <li class="mdc-list-item" data-value="range">\n                                    <span class="mdc-list-item__ripple"></span>\n                                    <span class="mdc-list-item__text">\u0428\u043a\u0430\u043b\u0430</span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>');
g(d);e=document.createElement("div");e.classList.add("question__answers");d.append(e);c=document.createElement("div");c.classList.add("answer");e.append(c);e=document.createElement("div");e.classList.add("answer__icon");c.append(e);e.insertAdjacentHTML("afterbegin",'<div class="mdc-form-field">\n                            <div class="mdc-radio mdc-radio--disabled">\n                                <input class="mdc-radio__native-control" type="radio" id="" name="" disabled>\n                                <div class="mdc-radio__background">\n                                    <div class="mdc-radio__outer-circle"></div>\n                                    <div class="mdc-radio__inner-circle"></div>\n                                </div>\n                                <div class="mdc-radio__ripple"></div>\n                            </div>\n                        </div>');
e=document.createElement("textarea");e.classList.add("textarea-line","answer__text");$(e).attr({name:"",id:"",rows:"1",placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",maxlength:150});c.append(e);e=document.createElement("img");e.classList.add("answer__clear");$(e).attr({src:"/static/main/images/icon/clear-24px.svg",alt:""});c.append(e);c=document.createElement("a");c.classList.add("new-answer__btn");c.text="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430";
d.append(c);c=document.createElement("div");c.classList.add("question__footer");d.append(c);e=document.createElement("img");e.classList.add("question__urn");$(e).attr({src:"/static/main/images/icon/delete_forever-24px.svg",alt:""});c.append(e);console.log(d);a.append(d);r[$(d).attr("data-question-id")]={type:$(d).attr("data-question-type")};console.log(r);50<=a.children(".question").length&&$(this).addClass("hide")});n.on("click",".new-answer__btn",function(){var a=$(this).parent(),d=a.attr("data-question-type");
if("radio"===d||"checkbox"===d)a=a.children(".question__answers"),a.append(f(d)),15<=a.children(".answer").length&&$(this).addClass("hide");else throw Error("Unexpected attribute when adding answer option");});n.on("click",".answer__clear",function(){var a=$(this).parent(),d=a.parent(),c=d.parent(),e=c.attr("data-question-type");if("radio"===e||"checkbox"===e){d=d.children(".answer").length;if(15===d)c.children(".new-answer__btn").removeClass("hide");else if(1===d){a.children(".answer__text").val("");
return}a.remove()}else throw Error("Unexpected attribute when adding answer option");})});
