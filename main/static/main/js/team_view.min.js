var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,g){e.raw=g;return e};
$(function(){function e(){for(var d=0;d<a.length;d++)a[d].finish||$.ajax(a[d].request)}var g=$("body"),n=$('input[name="csrfmiddlewaretoken"]').val(),p=$(".content__body"),a=[];window.onbeforeunload=function(){e()};window.onunload=function(){};var l;g.on("input",".search",function(d){d=$(this).val();var b=p.children(".teammates");$(".snackbar-container").remove();e();l=$.ajax({url:"search/",type:"get",data:{search:d},beforeSend:function(f,c){l&&l.abort();p.addClass("disabled")},success:function(f){b.empty();
b.append(f.content)},complete:function(){$(".content__body").removeClass("disabled")},error:function(){}})});g.on("click","#kick",function(d){var b=$(this).parent();d=b.attr("data-real-id");var f=b.children(".info").children(".info__top").children(".teammate-href").text(),c;$.ajax({url:"leave/",type:"post",data:{csrfmiddlewaretoken:n,teammateId:d},beforeSend:function(h,k){a[c]||(c=a.length,h.abort(),a.push({request:k,finish:!1}),$(b).css({display:"none"}),Snackbar.show({text:f+" \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b",
customClass:"custom center",actionText:"\u041e\u0442\u043c\u0435\u043d\u0430",actionTextColor:"#5699FF",width:"910px",duration:5E3,onActionClick:function(m){a[c].finish=!0;$(m).remove();$(b).css({display:"flex"})},onClose:function(){a[c].finish||$.ajax(k)}}))},success:function(h){b.remove()},complete:function(){a[c].finish=!0},error:function(){$(b).css({display:"flex"});Snackbar.show({text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0432o \u043a\u043e\u043c\u0430\u043d\u0434\u044b.",
textColor:"#ff0000",customClass:"custom center",showAction:!1,duration:3E3})}})});g.on("click","#leaveTeam",function(d){var b=$(this).parent(),f=$(".content"),c;$.ajax({url:"leave/",type:"post",data:{csrfmiddlewaretoken:n},beforeSend:function(h,k){if(!a[c]){c=a.length;h.abort();a.push({request:k,finish:!1});f.addClass("disabled");$(b).css({display:"none"});var m=setTimeout(function(){a[c].finish||$.ajax(k)},5E3);Snackbar.show({text:"\u0412\u044b \u043f\u043e\u043a\u0438\u043d\u0443\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443",
customClass:"custom center",actionText:"\u041e\u0442\u043c\u0435\u043d\u0430",actionTextColor:"#5699FF",width:"910px",duration:5E3,onActionClick:function(q){clearTimeout(m);a[c].finish=!0;$(q).remove();f.removeClass("disabled");$(b).css({display:"flex"})}})}},success:function(h){window.onbeforeunload=function(){};window.onunload=function(){};location.href="/teams/"},complete:function(){a[c].finish=!0},error:function(){f.removeClass("disabled");$(b).css({display:"flex"});Snackbar.show({text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0432o \u043a\u043e\u043c\u0430\u043d\u0434\u044b.",
textColor:"#ff0000",customClass:"custom center",showAction:!1,duration:3E3})}})})});
