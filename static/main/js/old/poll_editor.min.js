var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var c,a=[];!(c=b.next()).done;)a.push(c.value);return a};
$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(b){var c=function(){};c.prototype=b;return new c};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){if(b==Array.prototype||b==Object.prototype)return b;b[c]=a.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<b.length;++c){var a=b[c];if(a&&a.Math==Math)return a}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,c){var a=$jscomp.propertyToPolyfillSymbol[c];if(null==a)return b[c];a=b[a];return void 0!==a?a:b[c]};
$jscomp.polyfill=function(b,c,a,e){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,c,a,e):$jscomp.polyfillUnisolated(b,c,a,e))};$jscomp.polyfillUnisolated=function(b,c,a,e){a=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var d=b[e];if(!(d in a))return;a=a[d]}b=b[b.length-1];e=a[b];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(b,c,a,e){var d=b.split(".");b=1===d.length;e=d[0];e=!b&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<d.length-1;f++){var g=d[f];if(!(g in e))return;e=e[g]}d=d[d.length-1];a=$jscomp.IS_SYMBOL_NATIVE&&"es6"===a?e[d]:null;c=c(a);null!=c&&(b?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:c}):c!==a&&($jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+d,d=
$jscomp.propertyToPolyfillSymbol[d],$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:c})))};
$jscomp.getConstructImplementation=function(){function b(){function a(){}new a;Reflect.construct(a,[],function(){});return new a instanceof a}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(b())return Reflect.construct;var c=Reflect.construct;return function(a,e,d){a=c(a,e);d&&Reflect.setPrototypeOf(a,d.prototype);return a}}return function(a,e,d){void 0===d&&(d=a);d=$jscomp.objectCreate(d.prototype||Object.prototype);return Function.prototype.apply.call(a,d,e)||
d}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},c={};try{return c.__proto__=b,c.a}catch(a){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+" is not extensible");return b}:null;
$jscomp.inherits=function(b,c){b.prototype=$jscomp.objectCreate(c.prototype);b.prototype.constructor=b;if($jscomp.setPrototypeOf){var a=$jscomp.setPrototypeOf;a(b,c)}else for(a in c)if("prototype"!=a)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(c,a);e&&Object.defineProperty(b,a,e)}else b[a]=c[a];b.superClass_=c.prototype};$jscomp.polyfill("Reflect",function(b){return b?b:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(b){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(b){if(b)return b;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;return function(a,e){try{return c(a,e),!0}catch(d){return!1}}}return null},"es6","es5");var ValidationError=function(b){b=Error.call(this,b);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="ValidationError"};$jscomp.inherits(ValidationError,Error);var maxAnswers=5,maxQuestions=5,timeAnimation=200;
$(function(){var b=$(".poll_questions"),c=$("body");$(".poll-head-name").height(function(){countLines($(this)[0],0)});$(".poll-head-about").height(function(){countLines($(this)[0],4)});$(".question-main-name").height(function(){countLines($(this)[0],2)});$(".question-main-answer").height(function(){countLines($(this)[0],4)});$(".question-main-answers-answer-range-settings-min, .question-main-answers-answer-range-settings-step, .question-main-answers-answer-range-settings-max").height(function(){$(this)[0].value=
$(this)[0].value.replace(/[^\d]/g,"")});$(".question-main-answer-remove").height(function(){1===$(this).parent().parent().children(".question-main-answers-answer").length&&$(this).addClass("invisible")});$(".poll-head-navigation-next-page").height(function(){0===b.children(".question").length&&$(this).attr({disabled:!0})});$(".question-radio").height(function(){var a=$(this).children(".question-main").children(".question-main-answers").children(".question-main-answers-answer").children(".question-radio-main-answer");
a.css({display:"inline"});a.animate({opacity:"1"},2*timeAnimation)});$(".question-checkbox").height(function(){var a=$(this).children(".question-main").children(".question-main-answers").children(".question-main-answers-answer").children(".question-checkbox-main-answer");a.css({display:"inline"});a.animate({opacity:"1"},2*timeAnimation)});$(".poll_questions-navigate-save_in_favorite").click(function(a){a.preventDefault()});c.on("click",".poll-head-navigation-next-page",function(){console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043e\u043f\u0440\u043e\u0441\u0430 --\x3e")});
c.on("click",".poll-head-remove",function(a){a.preventDefault();confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u043f\u0440\u043e\u0441?")&&(alert("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u043e\u0441\u0430"),location.href="/poll/")});c.on("keydown","textarea",
function(a){13===a.keyCode&&a.preventDefault()});c.on("input",".poll-head-name",function(){countLines($(this)[0],0)});c.on("input",".poll-head-about",function(){countLines($(this)[0],4)});c.on("input",".question-main-name",function(){countLines($(this)[0],2)});c.on("input",".question-main-answer",function(){countLines($(this)[0],4)});c.on("input",".question-main-answers-answer-range-settings-min, .question-main-answers-answer-range-settings-step, .question-main-answers-answer-range-settings-max",
function(){$(this)[0].value=$(this)[0].value.replace(/[^\d]/g,"")});c.on("input",".question-settings-type_question",function(){var a=$(this).parent().parent(),e=a.children(".question-main"),d=e.children(".question-main-answers"),f=$(this)[0].value;if(a.hasClass("question-checkbox")){a.removeClass("question-checkbox");var g="question-checkbox"}else if(a.hasClass("question-range"))a.removeClass("question-range"),g="question-range";else if(a.hasClass("question-open_question"))a.removeClass("question-open_question"),
g="question-open_question";else if(a.hasClass("question-radio"))a.removeClass("question-radio"),g="question-radio";else throw new ValidationError("question-settings-type_question ERROR!!!");if("radio"===f)a.addClass("question-radio");else if("checkbox"===f)a.addClass("question-checkbox");else if("range"===f)a.addClass("question-range");else if("open_question"===f)a.addClass("question-open_question");else throw new ValidationError("\u0421\u043c\u0435\u043d\u0430 \u0442\u0438\u043f\u0430 ERROR!!!");
if("question-radio"===g&&"checkbox"===f||"question-checkbox"===g&&"radio"===f){var h=d.children(".question-main-answers-answer");if("question-radio"===g&&"checkbox"===f){var k=h.children(".question-radio-main-answer");var l=h.children(".question-checkbox-main-answer")}else"question-checkbox"===g&&"radio"===f&&(k=h.children(".question-checkbox-main-answer"),l=h.children(".question-radio-main-answer"));k.animate({opacity:0},timeAnimation,function(){$(this).css({display:"none"});l.css({display:"inline"});
l.animate({opacity:1},timeAnimation)})}else{var m=0,n=parseFloat(a.css("height"));a.css({height:n});if("question-radio"===g||"question-checkbox"===g){var p=e.children(".question-main-add");p.animate({opacity:0},{duration:timeAnimation,queue:!1})}m=parseFloat(e.css("height"));d.animate({opacity:0},{duration:timeAnimation,queue:!1,complete:function(){$(this).children().remove();"question-radio"!==g&&"question-checkbox"!==g||p.remove();"radio"===f?createRadioOrCheckbox("radio",d,e):"checkbox"===f?createRadioOrCheckbox("checkbox",
d,e):"range"===f?createRange(d):"open_question"===f&&createOpenQuestion(d);m-=parseFloat(e.css("height"));n-=m;a.children(".question-navigate").css({top:"+="+m.toString()});a.children(".question-navigate").animate({top:"-="+m.toString()},{duration:timeAnimation,queue:!1});a.animate({height:n},{duration:timeAnimation,queue:!1});$(this).animate({opacity:1},{duration:timeAnimation,queue:!1,complete:function(){a.css({height:"auto"})}})}})}});c.on("click",".question-main-add",function(a){a.preventDefault();
a=$(this).prev(".question-main-answers");var e=$(this);var d=$(this).parent().parent();if(d.hasClass("question-radio"))d="radio";else if(d.hasClass("question-checkbox"))d="checkbox";else throw new ValidationError("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 ERROR!!!");createNewAnswer(d,a);d=a.children(".question-main-answers-answer");var f=d.last(),g=f.css("height");parseFloat(a.css("margin-bottom"));
parseFloat($(this).css("height"));f.css({opacity:0,height:0});f.animate({opacity:1,height:g},{duration:timeAnimation,queue:!1,complete:function(){f.css({height:"auto"})}});2===d.length&&(a=d.children(".question-main-answer-remove").first(),a.css({opacity:0}),a.removeClass("invisible"),a.animate({opacity:1},{duration:timeAnimation,queue:!1,complete:function(){}}));d.length===maxAnswers&&e.animate({opacity:0},{duration:timeAnimation,queue:!1,complete:function(){e.css({visibility:"hidden"})}})});c.on("click",
".question-main-answer-remove",function(){var a=$(this).parent(),e=a.parent(),d=e.children(".question-main-answers-answer").length;if(1<d){var f=a,g=parseInt(f.children(".question-main-answer").attr("placeholder").split(" ")[1]);if(d!==g)for(var h=f.next(),k=h.children(".question-main-answer"),l=parseInt(k.attr("placeholder").split(" ")[1]);0!==h.length;)k.attr({placeholder:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+g}),f=h,g=l,h=h.next(),0!==h.length&&(k=h.children(".question-main-answer"),l=
parseInt(k.attr("placeholder").split(" ")[1]));d===maxAnswers&&(d=e.parent().children(".question-main-add"),d.css({visibility:"visible"}),d.animate({opacity:1},{duration:timeAnimation,queue:!1,complete:function(){}}));a.animate({height:0,opacity:0,margin:"0"},{duration:timeAnimation,queue:!1,complete:function(){a.remove()}});e=e.children(".question-main-answers-answer");if(1>=e.length-1){var m=e.children(".question-main-answer-remove");m.animate({opacity:0},{duration:timeAnimation,queue:!1,complete:function(){m.addClass("invisible")}})}}else throw new ValidationError("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 ERROR!!!");
});c.on("click",".question-navigate-remove_question",function(){var a=$(this).parent().parent(),e=a.parent().children(".question").length;a.animate({opacity:0,height:0,margin:0,padding:0},{duration:timeAnimation,queue:!1,complete:function(){a.remove()}});0===e-1&&$(".poll-head-navigation-next-page").attr({disabled:!0});e===maxQuestions&&$(".poll_questions-navigate-add_question").attr({disabled:!1})});c.on("click",".poll_questions-navigate-add_question",function(){var a=b.css("height");createNewQuestion(b);
var e=b.children(".question").last(),d=parseFloat(e.css("height"));e.css({height:0,opacity:0});b.css({height:a});b.animate({height:"+="+d.toString()},{duration:timeAnimation,queue:!1,complete:function(){b.css({height:"auto"})}});e.animate({opacity:1,heightPoll:"+="+d.toString()},{duration:timeAnimation,queue:!1,complete:function(){e.css({height:"auto"})}});a=$(".poll_questions").children(".question").length;1===a&&$(".poll-head-navigation-next-page").attr({disabled:!1});a===maxQuestions&&$(this).attr({disabled:!0})});
b.sortable({handle:".question-move-platform",scroll:!1,tolerance:"move",revert:150})});function countLines(b,c){b.style.height="1px";b.style.height=b.scrollHeight+c+"px"}function createRadioOrCheckbox(b,c,a){createNewAnswer(b,c);createBtnAddAnswer(a)}
function createRange(b){var c=document.createElement("div");c.classList.add("question-main-answers-answer");var a=document.createElement("div");a.classList.add("question-main-answers-answer-range-box");var e=document.createElement("div");e.classList.add("question-main-answers-answer-range");var d=document.createElement("div");d.classList.add("question-main-answers-answer-range-settings");var f=document.createElement("input");f.classList.add("question-main-answers-answer-range-settings-min");f.type=
"text";f.placeholder="\u041e\u0442";f.maxLength=5;var g=document.createElement("div");g.classList.add("question-main-answers-answer-range-settings-step-box");var h=document.createElement("span");h.classList.add("question-main-answers-answer-range-settings-before-step");h.textContent="\u0421 \u0448\u0430\u0433\u043e\u043c:";var k=document.createElement("input");k.classList.add("question-main-answers-answer-range-settings-step");k.type="text";k.value="1";k.maxLength=5;k.autocomplete="off";var l=document.createElement("input");
l.classList.add("question-main-answers-answer-range-settings-max");l.type="text";l.placeholder="\u0414\u043e";l.maxLength=5;g.append(h,k);d.append(f,g,l);a.append(e,d);c.append(a);b.append(c)}
function createOpenQuestion(b){var c=document.createElement("div");c.classList.add("question-main-answers-answer");var a=document.createElement("span");a.classList.add("question-main-answers-answer-open_question");a.textContent="\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435";c.append(a);b.append(c)}
function createBtnAddAnswer(b){var c=document.createElement("a");c.classList.add("question-main-add");c.href="#";c.textContent="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442";b.append(c)}
function createNewQuestion(b){var c=document.createElement("div"),a=c.classList;a.add("question");a.add("question-radio");a.add("rounded-block");a=document.createElement("div");a.classList.add("question-move");var e=document.createElement("div");e.classList.add("question-move-platform");var d=document.createElement("img");d.classList.add("question-move-platform-img");d.alt="";d.src="../../../static/main/images/move.svg";e.append(d);a.append(e);e=document.createElement("div");e.classList.add("question-main");
d=document.createElement("textarea");d.classList.add("question-main-name");d.name="";d.id="";d.rows=1;d.placeholder="\u0412\u043e\u043f\u0440\u043e\u0441";var f=document.createElement("div");f.classList.add("question-main-answers");createRadioOrCheckbox("radio",f,e);e.prepend(d,f);d=document.createElement("div");d.classList.add("question-settings");f=document.createElement("select");f.classList.add("question-settings-type_question");f.id="type_question";f.name="type_question";var g=document.createElement("option");
g.value="radio";g.classList.add("question-settings-type_question-option");g.selected=!0;g.text="\u041e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430";var h=document.createElement("option");h.value="checkbox";h.classList.add("question-settings-type_question-option");h.text="\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430";var k=document.createElement("option");k.value="range";k.classList.add("question-settings-type_question-option");
k.text="\u0428\u043a\u0430\u043b\u0430";var l=document.createElement("option");l.value="open_question";l.classList.add("question-settings-type_question-option");l.text="\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441";f.append(g,h,k,l);d.append(f);f=document.createElement("div");g=f.classList;g.add("question-navigate");g.add("text-right");g=document.createElement("button");g.classList.add("question-navigate-remove_question");h=document.createElement("img");h.classList.add("question-navigate-remove_question-img");
h.src="../../../static/main/images/remove2.svg";h.alt="";g.append(h);f.append(g);c.append(a,e,d,f);b.append(c)}
function createNewAnswer(b,c){var a=$(c).children().length;if(a>=maxAnswers)throw new ValidationError("createNewAnswer ERROR!!!");a++;var e=document.createElement("div");e.classList.add("question-main-answers-answer");var d=document.createElement("span"),f=document.createElement("span"),g=document.createElement("textarea");g.classList.add("question-main-answer");g.name="";g.id="";g.rows=1;g.placeholder="\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+a;g.setAttribute("data-number_answer","1");a=document.createElement("button");
a.classList.add("question-main-answer-remove");0===$(c).children(".question-main-answers-answer").length&&a.classList.add("invisible");var h=document.createElement("img");h.classList.add("question-main-answer-remove-img");h.src="../../../static/main/images/cross.svg";h.alt="";if("radio"===b)d.classList.add("question-radio-main-answer"),f.classList.add("question-checkbox-main-answer"),$(d).css({opacity:1,display:"inline"});else if("checkbox"===b)d.classList.add("question-radio-main-answer"),f.classList.add("question-checkbox-main-answer"),
$(f).css({opacity:1,display:"inline"});else throw new ValidationError("createRadioOrCheckbox ERROR!!!");a.prepend(h);e.append(d,f,g,a);c.append(e)};
